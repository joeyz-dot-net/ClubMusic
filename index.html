<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
	
	<!-- Primary Metadata -->
	<title>无损点播</title>
	<meta name="description" content="无损音乐点播系统，支持在线上传音频文件" />
	<meta name="keywords" content="无损,音乐,点播,上传,mp3,flac,wav" />
	
	<!-- Open Graph -->
	<meta property="og:type" content="website" />
	<meta property="og:title" content="无损音乐点播" />
	<meta property="og:site_name" content="无损音乐点播" />
	<meta property="og:url" content="{{ request.url }}" />
	<meta property="og:description" content="无损音乐点播系统，支持在线上传音频文件" />
	<meta property="og:image" content="{{ request.url_root }}preview.png" />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="630" />
	<meta property="og:locale" content="en_US" />
	
	<!-- Clubhouse Frames -->
	<meta property="fc:frame" content="vNext" />
	<meta property="fc:frame:image" content="{{ request.url_root }}preview.png" />
	<meta property="fc:frame:image:aspect_ratio" content="1.91:1" />
	<meta property="fc:frame:button:1" content="进入点播" />
	<meta property="fc:frame:button:1:action" content="post_redirect" />
	<meta property="fc:frame:button:1:target" content="{{ request.url }}" />
	<meta property="fc:frame:post_url" content="{{ request.url }}" />
	
	<!-- iOS/Mobile -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-title" content="无损点播" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="theme-color" content="#1e1f24" />
	
	<!-- Compatibility -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="renderer" content="webkit" />
	
	<link rel="stylesheet" href="/static/style.css" />
</head>
<body>
	<header>
		<div class="toolbar">
			<input id="uploadFile" type="file" accept=".mp3,.wav,.flac" style="display:none;" />
			<button id="youtubeBtn" aria-label="YouTube">YouTube</button>
			<button id="prevBtn" aria-label="上一首">上首</button>
			<button id="nextBtn" aria-label="下一首">下首</button>
			<button id="shuffleBtn" aria-label="随机" data-on="0">随机</button>
			<button id="toggleExpand" aria-label="展开/折叠">展开</button>
			
		</div>
	</header>
	<main id="tree" aria-label="文件列表"></main>
	<footer id="playerBar"><div id="nowPlaying">未播放</div><div class="volWrap"><input id="volSlider" type="range" min="0" max="130" value="50" /></div></footer>
	<div id="playerProgress" aria-hidden="true"><div id="playerProgressFill"></div></div>
		<script id="boot-data" type="application/json">{{ {'tree': tree, 'musicDir': music_dir}|tojson }}</script>
	</main>

	<!-- YouTube弹窗 -->
	<div id="youtubeModal" class="youtube-modal" aria-hidden="true">
		<div class="youtube-content">
			<h3 class="youtube-title">输入YouTube视频地址</h3>
			<input id="youtubeInput" type="text" class="youtube-input" value="https://youtu.be/P94RFMk1AcY?si=QjjXTdh_Lw6vl3Me" />
			<div id="youtubeStatus" class="youtube-status"></div>
			<div class="youtube-actions">
				<button id="youtubeCancel" class="youtube-btn">取消</button>
				<button id="youtubeSubmit" class="youtube-btn primary">提交</button>
			</div>
		</div>
	</div>

	<script src="/static/main.js"></script>
	<script src="/static/youtube.js"></script>
</body>
</html>